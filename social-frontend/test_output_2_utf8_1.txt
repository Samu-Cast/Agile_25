
> social-frontend@0.1.0 test
> react-scripts test src/test/unit/components/CreatePostModal.test.js

  console.log
    Starting BrewHub Frontend Tests...

      at src/setupTests.js:21:13

  console.log
    [CreatePostModal] handleMediaChange called, files: 7

      at handleMediaChange (src/components/CreatePostModal.js:119:17)

  console.log
    Frontend tests completed!

      at src/setupTests.js:30:13

node.exe : FAIL 
src/test/unit/components/CreatePostModal.test.js
In riga:1 car:1
+ & "C:\Program Files\nodejs/node.exe" 
"C:\Program Files\nodejs/node_mo ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (FAI 
   L src/test/u...stModal.test.js:String) [], R  
  emoteException
    + FullyQualifiedErrorId : NativeCommandError
 
  CreatePostModal
    ÔêÜ renders basic post form by default (49 
ms)
    ÔêÜ switches to review mode (22 ms)
    ÔêÜ submits a simple post (23 ms)
    ÔêÜ submits a review (47 ms)
    ÔêÜ validates review fields (16 ms)
    ÔêÜ fetches user communities (16 ms)
    Comparison Mode
      ÔêÜ enables comparison mode (30 ms)
      ├ù validates comparison fields (75 ms)
      ÔêÜ submits a comparison post (85 ms)
    Media Handling
      ÔêÜ handles too many media files (max 6) 
(25 ms)
    Community Selection
      ÔêÜ opens and closes community dropdown 
(29 ms)
      ÔêÜ searches communities by name (31 ms)
      ÔêÜ selects community target (46 ms)
      ÔêÜ posts to selected community (49 ms)
    Error Handling
      ÔêÜ handles failed post creation (API 
error) (30 ms)
      ÔêÜ shows loading state during submission 
(126 ms)
      ÔêÜ prevents submission when not logged in 
(8 ms)

  ÔùÅ CreatePostModal ÔÇ║ Comparison Mode ÔÇ║ 
validates comparison fields

    expect(jest.fn()).toHaveBeenCalledWith(...exp
ected)

    Expected: "Per favore inserisci i nomi di 
entrambe le miscele per il confronto"

    Number of calls: 0

    [0m [90m 174 |[39m             fireEvent[
33m.[39mclick(screen[33m.[39mgetByText([32m'P
ubblica Confronto'[39m))[33m;[39m
     [90m 175 |[39m
    [31m[1m>[22m[39m[90m 176 |[39m         
    expect(window[33m.[39malert)[33m.[39mtoHa
veBeenCalledWith([32m'Per favore inserisci i 
nomi di entrambe le miscele per il 
confronto'[39m)[33m;[39m
     [90m     |[39m                            
      [31m[1m^[22m[39m
     [90m 177 |[39m         })[33m;[39m
     [90m 178 |[39m
     [90m 179 |[39m         it([32m'submits a 
comparison post'[39m[33m,[39m [36masync[39m 
() [33m=>[39m {[0m

      at Object.<anonymous> (src/test/unit/compon
ents/CreatePostModal.test.js:176:34)
      at TestScheduler.scheduleTests (node_module
s/@jest/core/build/TestScheduler.js:333:13)
      at runJest 
(node_modules/@jest/core/build/runJest.js:404:19)
      at _run10000 (node_modules/@jest/core/build
/cli/index.js:320:7)
      at runCLI (node_modules/@jest/core/build/cl
i/index.js:173:3)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 16 passed, 17 total
Snapshots:   0 total
Time:        2.323 s
Ran all test suites matching /src\\test\\unit\\co
mponents\\CreatePostModal.test.js/i.
